道具返还问题
========================

这类问题被总结为消耗投入物品，以一定概率返还一系列物品的一系列问题，可以总结出两种问题：

    - 部分返还物品能转换为投入物品的情况下，计算相比不返还情况的投入物品等效打折系数

    - 部分返还物品能转换为投入物品的情况下，计算相比不返还情况的其他返还道具的额外获取系数

这两种问题可以相互转化，并且计算都较为简单。而对于有类似保底系统的情况来说，在讨论平稳分布的意义下，可以使用综合概率来进行计算返还期望。

处理嵌套返还时（即返还的物品还可以继续转化的情况），按照树结构展开，最后统计在叶子节点处能获得的道具，加和到一起即为最终可转化的值。\
但如遇到返还道具能转换为投入物品的情况，不进行展开，最后将这部分返还的投入物品从初始投入中扣除即可得到平稳分布意义下投入和返还物品的关系。